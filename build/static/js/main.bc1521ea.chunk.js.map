{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/Login.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/Api.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","Header","className","src","logo","alt","CurrentUserContext","createContext","Card","props","currentUser","React","useContext","card","isOwner","owner","_id","cardLikeButtonClassName","likes","some","i","type","onClick","onCardDelete","style","backgroundImage","link","onCardClick","name","onCardLike","length","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","id","key","Footer","Login","placeholder","required","to","PopupWithForm","isOpen","evt","target","classList","contains","onClose","action","noValidate","onSubmit","title","children","data-text","buttonText","EditProfilePopup","useState","setName","description","setDescription","handleChange","e","value","useEffect","preventDefault","onUpdateUser","pattern","onChange","minLength","maxLength","EditAvatarPopup","input","useRef","onUpdateAvatar","current","ref","AddPlacePopup","linkInput","nameInput","ImagePopup","api","options","this","request","Promise","all","getInitialCards","getUserInfo","cardId","formData","JSON","stringify","method","body","fetch","baseUrl","headers","then","res","ok","json","reject","status","authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","loggedIn","setCardsOnLike","newCard","newCards","c","closeAllPopups","handleEscKey","data","catch","console","log","document","addEventListener","removeEventListener","Provider","exact","path","delCard","filter","removeLike","addLike","user","updateUserInfo","postNewCard","avatarUrl","updateAvatar","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.bc1521ea.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.8f7611ae.svg\";","import React from 'react';\nimport logo from '../images/logo.svg';\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n\t\t\t\t<img src={logo} alt=\"logo\" className=\"header__logo\" />\n\t\t\t</header>\n  );\n}\n\nexport default Header;","import {createContext} from 'react';\n\nexport const CurrentUserContext = createContext();","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n\tconst currentUser = React.useContext(CurrentUserContext);\n\tconst card = props.card;\n\tconst isOwner = card.owner._id === currentUser._id;\n\tconst isLiked = card.likes.some((i) => i._id === currentUser._id);\n\tconst cardLikeButtonClassName = isLiked\n\t\t? \"card__like card__like_active\"\n\t\t: \"card__like\";\n\n\tfunction handleClick() {\n\t\tprops.onCardClick(card);\n\t}\n\n\tfunction handleLikeClick() {\n\t\tprops.onCardLike(card);\n\t}\n\n\tfunction handleDeleteClick() {\n\t\tprops.onCardDelete(card);\n\t}\n\n\treturn (\n\t\t<li className=\"card\">\n\t\t\t{isOwner ? (\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclassName=\"button card__del\"\n\t\t\t\t\tonClick={handleDeleteClick}\n\t\t\t\t></button>\n\t\t\t) : (\n\t\t\t\t\"\"\n\t\t\t)}\n\t\t\t<div\n\t\t\t\tclassName=\"card__img\"\n\t\t\t\tstyle={{ backgroundImage: `url(${card.link})` }}\n\t\t\t\tonClick={handleClick}\n\t\t\t></div>\n\t\t\t<div className=\"card__description-wrapper\">\n\t\t\t\t<h2 className=\"card__title\">{card.name}</h2>\n\t\t\t\t<div className=\"card__likes-container\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={`${cardLikeButtonClassName} button `}\n\t\t\t\t\t\tonClick={handleLikeClick}\n\t\t\t\t\t></button>\n\t\t\t\t\t<p className=\"card__likes\">{card.likes.length}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</li>\n\t);\n}\n\nexport default Card;\n","import React from \"react\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main(props) {\n\tconst currentUser = React.useContext(CurrentUserContext);\n\t\n\n\treturn (\n\t\t<main>\n\t\t\t<section className=\"profile page__section\">\n\t\t\t\t<div className=\"media\">\n\t\t\t\t\t<div className=\"media__image-container\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\talt=\"profile\"\n\t\t\t\t\t\t\tclassName=\"media__image\"\n\t\t\t\t\t\t\tsrc={currentUser.avatar}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={props.onEditAvatar}\n\t\t\t\t\t\t\tclassName=\"media__btn media__btn_size_lg media__btn_hoverable\"\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t></button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"media__body\">\n\t\t\t\t\t\t<div className=\"media__item\">\n\t\t\t\t\t\t\t<h1 className=\"media__name\">{currentUser.name}</h1>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={props.onEditProfile}\n\t\t\t\t\t\t\t\tclassName=\"media__btn media__btn_size_sm button\"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t></button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p className=\"media__job\">{currentUser.about}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<button\n\t\t\t\t\tonClick={props.onAddPlace}\n\t\t\t\t\tclassName=\"profile__btn button\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t></button>\n\t\t\t</section>\n\t\t\t<ul className=\"gallery page__section\">\n\t\t\t\t{props.cards.map((card, id) => (\n\t\t\t\t\t<Card\n\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\tcard={card}\n\t\t\t\t\t\tonCardDelete={props.onCardDelete}\n\t\t\t\t\t\tonCardClick={props.onCardClick}\n\t\t\t\t\t\tonCardLike={props.onCardLike}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</main>\n\t);\n}\n\nexport default Main;\n","import React from \"react\";\n\nfunction Footer() {\n\treturn (\n\t\t<footer className=\"footer page__section\">\n\t\t\t<p className=\"footer__copyright\">&#169; 2020 Around The U.S.</p>\n\t\t</footer>\n\t);\n}\n\nexport default Footer;","import React from \"react\";\nimport { Link } from 'react-router-dom';\nimport '../blocks/authentication/authentication.css';\n\nfunction Login() {\n  return (\n    <section className=\"authentication page__section\">\n      <div className=\"authentication__container\">\n        <form>\n          <h2 className=\"form__title form__title_theme_light\">Log in</h2>\n          <input className=\"form__input form__input_theme_light\" placeholder=\"Email\" type=\"email\" required />\n          <input className=\"form__input form__input_theme_light\" placeholder=\"Password\" type=\"password\" required />\n          <button type=\"submit\" className=\"form__submit-btn form__submit-btn_theme_light\">\n            Log in\n          </button>\n        </form>\n        <div className=\"authentication__link\">\n          <span>Not a member yet?</span>\n          <Link to=\"#\">Sign up here!</Link>\n        </div>\n      </div>\n    </section>\n  )\n};\nexport default Login;","import React from \"react\";\n\nfunction PopupWithForm(props) {\n\tfunction handleOverlayClick(evt) {\n\t\tif (evt.target.classList.contains(\"popup_role_show\")) {\n\t\t\tprops.onClose();\n\t\t}\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName={`popup popup_background_light js-popup-${props.name} ${\n\t\t\t\tprops.isOpen ? \"popup_role_show\" : \"popup_role_fade-out\"\n\t\t\t}`}\n\t\t\tonClick={handleOverlayClick}\n\t\t>\n\t\t\t<div className=\"popup__container popup__container_type_form\">\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"popup__btn-close button\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonClick={props.onClose}\n\t\t\t\t></button>\n\t\t\t\t<form\n\t\t\t\t\tclassName=\"form\"\n\t\t\t\t\taction=\"#\"\n\t\t\t\t\tnoValidate\n\t\t\t\t\tname={props.name}\n\t\t\t\t\tonSubmit={props.onSubmit}\n\t\t\t\t>\n\t\t\t\t\t<h2 className=\"form__title\">{props.title}</h2>\n\t\t\t\t\t{props.children}\n\t\t\t\t\t<button className=\"form__submit-btn\" type=\"submit\" data-text=\"Save\">\n\t\t\t\t\t\t{props.buttonText}\n\t\t\t\t\t</button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default PopupWithForm;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup(props) {\n\tconst [name, setName] = useState(\"\");\n\tconst [description, setDescription] = useState(\"\");\n\tconst currentUser = useContext(CurrentUserContext);\n\n\tfunction handleChange(e) {\n\t\tconst { name, value } = e.target;\n\t\tswitch (name) {\n\t\t\tcase \"name\":\n\t\t\t\tsetName(value);\n\t\t\t\tbreak;\n\t\t\tcase \"about\":\n\t\t\t\tsetDescription(value);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tfunction handleSubmit(e) {\n\t\te.preventDefault();\n\t\tprops.onUpdateUser({\n\t\t\tname,\n\t\t\tabout: description,\n\t\t});\n\t}\n\n\tuseEffect(() => {\n\t\tif (currentUser.name) {\n\t\t\tsetName(currentUser.name);\n\t\t}\n\t\tif (currentUser.about) {\n\t\t\tsetDescription(currentUser.about);\n\t\t}\n\t}, [currentUser]);\n\n\treturn (\n\t\t<PopupWithForm\n\t\t\tname=\"profile\"\n\t\t\ttitle=\"Edit profile\"\n\t\t\tbuttonText=\"Save\"\n\t\t\tisOpen={props.isOpen}\n\t\t\tonClose={props.onClose}\n\t\t\tonSubmit={handleSubmit}\n\t\t>\n\t\t\t<input\n\t\t\t\trequired\n\t\t\t\tpattern=\"[a-zA-Z\\s\\-]+\"\n\t\t\t\ttype=\"text\"\n\t\t\t\tvalue={name}\n\t\t\t\tclassName=\"form__input js-input-name\"\n\t\t\t\tname=\"name\"\n\t\t\t\tplaceholder=\"Name\"\n\t\t\t\tonChange={handleChange}\n\t\t\t\tminLength=\"2\"\n\t\t\t\tmaxLength=\"40\"\n\t\t\t/>\n\t\t\t<input\n\t\t\t\trequired\n\t\t\t\ttype=\"text\"\n\t\t\t\tvalue={description}\n\t\t\t\tclassName=\"form__input js-input-job\"\n\t\t\t\tname=\"about\"\n\t\t\t\tplaceholder=\"About me\"\n\t\t\t\tonChange={handleChange}\n\t\t\t\tminLength=\"2\"\n\t\t\t\tmaxLength=\"200\"\n\t\t\t/>\n\t\t</PopupWithForm>\n\t);\n}\n\nexport default EditProfilePopup;\n","import React, { useRef } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup(props) {\n\tconst input = useRef(null);\n\n\tfunction handleSubmit(e) {\n\t\te.preventDefault();\n\n\t\tprops.onUpdateAvatar({\n\t\t\tavatar: input.current.value,\n\t\t});\n\t}\n\n\treturn (\n\t\t<PopupWithForm\n\t\t\tname=\"change-avatar\"\n\t\t\ttitle=\"Change profile picture\"\n\t\t\tbuttonText=\"Save\"\n\t\t\tisOpen={props.isOpen}\n\t\t\tonClose={props.onClose}\n\t\t\tonSubmit={handleSubmit}\n\t\t>\n\t\t\t<input\n\t\t\t\ttype=\"url\"\n\t\t\t\tclassName=\"form__input js-input-link\"\n\t\t\t\tname=\"avatar\"\n\t\t\t\tplaceholder=\"Url\"\n\t\t\t\tref={input}\n\t\t\t\trequired\n\t\t\t/>\n\t\t</PopupWithForm>\n\t);\n}\n\nexport default EditAvatarPopup;\n","import React, { useRef } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup(props) {\n\tconst linkInput = useRef(null);\n\tconst nameInput = useRef(null);\n\n\tfunction handleSubmit(e) {\n\t\te.preventDefault();\n\t\tprops.onAddPlace({\n\t\t\tname: nameInput.current.value,\n\t\t\tlink: linkInput.current.value,\n\t\t});\n\t}\n\n\treturn (\n\t\t<PopupWithForm\n\t\t\tname=\"photo-form\"\n\t\t\ttitle=\"New Place\"\n\t\t\tbuttonText=\"Create\"\n\t\t\tisOpen={props.isOpen}\n\t\t\tonClose={props.onClose}\n\t\t\tonSubmit={handleSubmit}\n\t\t>\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tref={nameInput}\n\t\t\t\tclassName=\"form__input js-input-title\"\n\t\t\t\tname=\"name\"\n\t\t\t\tplaceholder=\"Title\"\n\t\t\t\tminLength=\"1\"\n\t\t\t\tmaxLength=\"30\"\n\t\t\t\trequired\n\t\t\t/>\n\t\t\t<input\n\t\t\t\tref={linkInput}\n\t\t\t\ttype=\"url\"\n\t\t\t\tclassName=\"form__input js-input-link\"\n\t\t\t\tname=\"link\"\n\t\t\t\tplaceholder=\"Image link\"\n\t\t\t\trequired\n\t\t\t/>\n\t\t</PopupWithForm>\n\t);\n}\n\nexport default AddPlacePopup;\n","import React from \"react\";\n\nfunction ImagePopup(props) {\n\tfunction handleOverlayClick(evt) {\n\t\tif (evt.target.classList.contains(\"popup_role_show\")) {\n\t\t\tprops.onClose();\n\t\t}\n\t}\n\tconst card = props.card;\n\treturn (\n\t\t<div\n\t\t\tclassName={`popup popup_background_dark js-popup-picture ${\n\t\t\t\tprops.isOpen ? \"popup_role_show\" : \"popup_role_fade-out\"\n\t\t\t}`}\n\t\t\tonClick={handleOverlayClick}\n\t\t>\n\t\t\t<div className=\"popup__container popup__container_type_picture\">\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"popup__btn-close button\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonClick={props.onClose}\n\t\t\t\t></button>\n\t\t\t\t<img className=\"popup__image\" src={card.link} alt={card.name} />\n\t\t\t\t<h2 className=\"popup__title\">{card.name}</h2>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default ImagePopup;\n","\nclass Api {\n  constructor(options) {\n    this.options = options;\n  }\n\n  getInitialCards() {\n    return this.request(\"/cards\");\n  }\n\n  getUserInfo() {\n    return this.request(\"/users/me\");\n  }\n\n  getAppInfo() {\n    return Promise.all([this.getInitialCards(), this.getUserInfo()]);\n  }\n\n  addLike(cardId) {\n    return this.request(`/cards/likes/${cardId}`, \"PUT\");\n  }\n\n  removeLike(cardId) {\n    return this.request(`/cards/likes/${cardId}`, \"DELETE\");\n  }\n\n  delCard(cardId) {\n    return this.request(`/cards/${cardId}`, \"DELETE\");\n  }\n\n  updateUserInfo(formData) {\n    return this.request(\n      \"/users/me\",\n      \"PATCH\",\n      JSON.stringify({\n        name: formData.name,\n        about: formData.about,\n      })\n    );\n  }\n\n  updateAvatar(formData) {\n    return this.request(\n      \"/users/me/avatar\",\n      \"PATCH\",\n      JSON.stringify({ avatar: formData.avatar })\n    );\n  }\n\n  postNewCard(formData) {\n    return this.request(\n      \"/cards/\",\n      \"POST\",\n      JSON.stringify({\n        name: formData.name,\n        link: formData.link,\n      })\n    );\n  }\n\n  request(api, method, body) {\n    return fetch(`${this.options.baseUrl}${api}`, {\n      headers: this.options.headers,\n      method,\n      body,\n    })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Error: ${res.status}`);\n      })\n  }\n}\nconst api = new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/group-2\",\n  headers: {\n    authorization: \"2ea24103-3839-4671-8e47-57675e6fba9c\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default api;","import React, { useState, useEffect } from \"react\";\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport Login from \"./Login\";\n// import Register from \"./Register\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ImagePopup from \"./ImagePopup\";\nimport api from \"../utils/Api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport ProtectedRoute from \"./ProtectedRoute\";\n\nfunction App() {\n\tconst [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n\tconst [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n\tconst [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n\tconst [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n\tconst [selectedCard, setSelectedCard] = useState(0);\n\tconst [currentUser, setCurrentUser] = useState({});\n\tconst [cards, setCards] = useState([]);\n\tconst [loggedIn, setLoggedIn] = useState(false);\n\n\tfunction handleCardLike(card) {\n\t\tconst isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n\t\tif (isLiked) {\n\t\t\tapi.removeLike(card._id).then((newCard) => {\n\t\t\t\tsetCardsOnLike(card._id, newCard);\n\t\t\t});\n\t\t} else {\n\t\t\tapi.addLike(card._id).then((newCard) => {\n\t\t\t\tsetCardsOnLike(card._id, newCard);\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction setCardsOnLike(cardId, newCard) {\n\t\tconst newCards = cards.map((c) => (c._id === cardId ? newCard : c));\n\t\tsetCards(newCards);\n\t}\n\n\tfunction handleCardDelete(card) {\n\t\tapi.delCard(card._id).then((res) => {\n\t\t\tconst newCards = cards.filter((c) => c._id !== card._id);\n\t\t\tsetCards(newCards);\n\t\t});\n\t}\n\n\tfunction handleAddPlaceSubmit(formData) {\n\t\tapi\n\t\t\t.postNewCard(formData)\n\t\t\t.then((newCard) => {\n\t\t\t\tsetCards([newCard, ...cards]);\n\t\t\t})\n\t\t\t.catch(console.log);\n\t\tconsole.log(cards);\n\t\tcloseAllPopups();\n\t}\n\n\tfunction handleCardClick(card) {\n\t\tsetSelectedCard(card);\n\t\tsetIsImagePopupOpen(true);\n\t}\n\n\tfunction handleEditAvatarClick() {\n\t\tsetIsEditAvatarPopupOpen(true);\n\t}\n\n\tfunction handleEditProfileClick() {\n\t\tsetIsEditProfilePopupOpen(true);\n\t}\n\n\tfunction handleAddPlaceClick() {\n\t\tsetIsAddPlacePopupOpen(true);\n\t}\n\n\tfunction closeAllPopups() {\n\t\tsetIsEditAvatarPopupOpen(false);\n\t\tsetIsEditProfilePopupOpen(false);\n\t\tsetIsAddPlacePopupOpen(false);\n\t\tsetIsImagePopupOpen(false);\n\t\tsetSelectedCard(0);\n\t}\n\n\tfunction handleEscKey(evt) {\n\t\tif (evt.key === \"Escape\") {\n\t\t\tcloseAllPopups();\n\t\t}\n\t}\n\n\tfunction handleUpdateUser(user) {\n\t\tapi\n\t\t\t.updateUserInfo(user)\n\t\t\t.then((res) => {\n\t\t\t\tsetCurrentUser(res);\n\t\t\t})\n\t\t\t.catch(console.log);\n\t\tcloseAllPopups();\n\t}\n\n\tfunction handleUpdateAvatar(avatarUrl) {\n\t\tapi\n\t\t\t.updateAvatar(avatarUrl)\n\t\t\t.then((res) => {\n\t\t\t\tsetCurrentUser(res);\n\t\t\t})\n\t\t\t.catch(console.log);\n\t\tcloseAllPopups();\n\t}\n\n\tuseEffect(() => {\n\t\tapi\n\t\t\t.getUserInfo()\n\t\t\t.then((data) => {\n\t\t\t\tsetCurrentUser(data);\n\t\t\t})\n\t\t\t.catch(console.log);\n\t}, []);\n\n\tuseEffect(() => {\n\t\tapi\n\t\t\t.getInitialCards()\n\t\t\t.then((cards) => {\n\t\t\t\tsetCards(cards);\n\t\t\t})\n\t\t\t.catch(console.log);\n\t}, []);\n\n\tuseEffect(() => {\n\t\tdocument.addEventListener(\"keydown\", handleEscKey);\n\n\t\treturn () => {\n\t\t\tdocument.removeEventListener(\"keydown\", handleEscKey);\n\t\t};\n\t});\n\n\treturn (\n\t\t<>\n\t\t\t<Header />\n\t\t\t<CurrentUserContext.Provider value={currentUser}>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route exact path=\"/\">\n\t\t\t\t\t{loggedIn ? <Main \n\t\t\t\t\t\tonEditProfile={handleEditProfileClick}\n\t\t\t\t\t\tonAddPlace={handleAddPlaceClick}\n\t\t\t\t\t\tonEditAvatar={handleEditAvatarClick}\n\t\t\t\t\t\tonCardClick={handleCardClick}\n\t\t\t\t\t\tcards={cards}\n\t\t\t\t\t\tonCardDelete={handleCardDelete}\n\t\t\t\t\t\tonCardLike={handleCardLike} /> : <Redirect to=\"/signin\" />}\n\t\t\t\t\t</Route>\n\t\t\t\t\t{/* <Route path=\"/signup\">\n\t\t\t\t\t\t<Register />\n\t\t\t\t\t</Route> */}\n\t\t\t\t\t<Route exact path=\"/signin\">\n\t\t\t\t\t\t<Login />\n\t\t\t\t\t</Route>\n\t\t\t\t</Switch>\n\t\t\t\t{loggedIn && <Footer />}\n\t\t\t\t\n\t\t\t\t<EditProfilePopup\n\t\t\t\t\tisOpen={isEditProfilePopupOpen}\n\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\tonUpdateUser={handleUpdateUser}\n\t\t\t\t/>\n\t\t\t\t<AddPlacePopup\n\t\t\t\t\tisOpen={isAddPlacePopupOpen}\n\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\tonAddPlace={handleAddPlaceSubmit}\n\t\t\t\t/>\n\t\t\t\t<EditAvatarPopup\n\t\t\t\t\tisOpen={isEditAvatarPopupOpen}\n\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\tonUpdateAvatar={handleUpdateAvatar}\n\t\t\t\t/>\n\t\t\t\t<ImagePopup\n\t\t\t\t\tisOpen={isImagePopupOpen}\n\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\tcard={selectedCard}\n\t\t\t\t/>\n\t\t\t</CurrentUserContext.Provider>\n\t\t</>\n\t);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './pages/index.css';\nimport App from './components/App';\nimport { BrowserRouter } from 'react-router-dom';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n     <BrowserRouter>\n      <App />\n     </BrowserRouter>\n    </React.StrictMode>,\n  document.getElementById('root')\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}