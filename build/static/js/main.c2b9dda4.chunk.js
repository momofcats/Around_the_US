(this["webpackJsonparound-react"]=this["webpackJsonparound-react"]||[]).push([[0],{12:function(e,t,a){},13:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(3),c=a.n(o),i=(a(12),a(1)),l=a(4),s=a.n(l);var m=function(){return r.a.createElement("header",{className:"header"},r.a.createElement("img",{src:s.a,alt:"logo",className:"header__logo"}))},u=a(5),p=a(6),d=new(function(){function e(t){Object(u.a)(this,e),this.options=t}return Object(p.a)(e,[{key:"getInitialCards",value:function(){return this.request("/cards")}},{key:"getUserInfo",value:function(){return this.request("/users/me")}},{key:"getAppInfo",value:function(){return Promise.all([this.getInitialCards(),this.getUserInfo()])}},{key:"request",value:function(e,t,a){return fetch("".concat(this.options.baseUrl).concat(e),{headers:this.options.headers,method:t,body:a}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}}]),e}())({baseUrl:"https://around.nomoreparties.co/v1/group-2",headers:{authorization:"2ea24103-3839-4671-8e47-57675e6fba9c","Content-Type":"application/json"}});var _=function(e){var t=e.card;return r.a.createElement("li",{className:"card"},t.isOwner?r.a.createElement("button",{type:"button",className:"button card__del",onClick:e.onDelete}):"",r.a.createElement("div",{className:"card__img",style:{backgroundImage:"url(".concat(t.link,")")},onClick:function(){e.onCardClick(t)}}),r.a.createElement("div",{className:"card__description-wrapper"},r.a.createElement("h2",{className:"card__title"},t.name),r.a.createElement("div",{className:"card__likes-container"},r.a.createElement("button",{className:"card__like button"}),r.a.createElement("p",{className:"card__likes"},t.likes.length))))};var b=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)(""),s=Object(i.a)(l,2),m=s[0],u=s[1],p=Object(n.useState)(""),b=Object(i.a)(p,2),f=b[0],E=b[1],h=Object(n.useState)([]),v=Object(i.a)(h,2),g=v[0],N=v[1];return Object(n.useEffect)((function(){d.getAppInfo().then((function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1];c(n.name),u(n.about),E(n.avatar),a.map((function(e){return e.isOwner=n._id===e.owner._id,e})),N(a)}))}),[]),r.a.createElement("main",null,r.a.createElement("section",{className:"profile page__section"},r.a.createElement("div",{className:"media"},r.a.createElement("div",{className:"media__image-container"},r.a.createElement("img",{alt:"profile",className:"media__image",src:f}),r.a.createElement("button",{onClick:e.onEditAvatar,className:"media__btn media__btn_size_lg media__btn_hoverable",type:"button"})),r.a.createElement("div",{className:"media__body"},r.a.createElement("div",{className:"media__item"},r.a.createElement("h1",{className:"media__name"},o),r.a.createElement("button",{onClick:e.onEditProfile,className:"media__btn media__btn_size_sm button",type:"button"})),r.a.createElement("p",{className:"media__job"},m))),r.a.createElement("button",{onClick:e.onAddPlace,className:"profile__btn button",type:"button"})),r.a.createElement("ul",{className:"gallery page__section"},g.map((function(t,a){return r.a.createElement(_,{key:a,card:t,onDelete:e.onDeleteCard,onCardClick:e.onCardClick})}))))};var f=function(){return r.a.createElement("footer",{className:"footer page__section"},r.a.createElement("p",{className:"footer__copyright"},"\xa9 2020 Around The U.S."))};var E=function(e){return r.a.createElement("div",{className:"popup popup_background_light js-popup-".concat(e.name," ").concat(e.isOpen?"popup_role_show":"popup_role_fade-out"),onClick:function(t){t.target.classList.contains("popup_role_show")&&e.onClose()}},r.a.createElement("div",{className:"popup__container popup__container_type_form"},r.a.createElement("button",{className:"popup__btn-close button",type:"button",onClick:e.onClose}),r.a.createElement("form",{className:"form",action:"#",noValidate:!0},r.a.createElement("h2",{className:"form__title"},e.title),e.children,r.a.createElement("button",{className:"form__submit-btn",type:"submit","data-text":"Save"},e.buttonText))))};var h=function(e){var t=e.card;return r.a.createElement("div",{className:"popup popup_background_dark js-popup-picture ".concat(e.isOpen?"popup_role_show":"popup_role_fade-out"),onClick:function(t){t.target.classList.contains("popup_role_show")&&e.onClose()}},r.a.createElement("div",{className:"popup__container popup__container_type_picture"},r.a.createElement("button",{className:"popup__btn-close button",type:"button",onClick:e.onClose}),r.a.createElement("img",{className:"popup__image",src:t.link,alt:t.name}),r.a.createElement("h2",{className:"popup__title"},t.name)))};var v=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(!1),l=Object(i.a)(c,2),s=l[0],u=l[1],p=Object(n.useState)(!1),d=Object(i.a)(p,2),_=d[0],v=d[1],g=Object(n.useState)(!1),N=Object(i.a)(g,2),k=N[0],j=N[1],O=Object(n.useState)(!1),C=Object(i.a)(O,2),y=C[0],w=C[1],S=Object(n.useState)(0),x=Object(i.a)(S,2),A=x[0],L=x[1];function I(){v(!1),o(!1),u(!1),j(!1),w(!1),L(0)}function q(e){"Escape"===e.key&&I()}return Object(n.useEffect)((function(){return document.addEventListener("keydown",q),function(){document.removeEventListener("keydown",q)}})),r.a.createElement(r.a.Fragment,null,r.a.createElement(m,null),r.a.createElement(b,{onEditProfile:function(){o(!0)},onAddPlace:function(){u(!0)},onEditAvatar:function(){v(!0)},onDeleteCard:function(){j(!0)},onCardClick:function(e){L(e),w(!0)}}),r.a.createElement(f,null),r.a.createElement(E,{name:"profile",title:"Edit profile",buttonText:"Save",isOpen:a,onClose:I},r.a.createElement("input",{id:"name-input",required:!0,pattern:"[a-zA-Z\\s\\-]+",type:"text",className:"form__input js-input-name",name:"name",placeholder:"Name",minLength:"2",maxLength:"40"}),r.a.createElement("span",{id:"name-input-error",className:"form__input-error"}),r.a.createElement("input",{id:"job-input",required:!0,type:"text",className:"form__input js-input-job",name:"about",placeholder:"About me",minLength:"2",maxLength:"200"}),r.a.createElement("span",{id:"job-input-error",className:"form__input-error"})),r.a.createElement(E,{name:"photo-form",title:"New Place",buttonText:"Create",isOpen:s,onClose:I},r.a.createElement("input",{id:"title-input",type:"text",className:"form__input js-input-title",name:"name",placeholder:"Title",minLength:"1",maxLength:"30",required:!0}),r.a.createElement("span",{id:"title-input-error",className:"form__input-error"}),r.a.createElement("input",{id:"link-input",type:"url",className:"form__input js-input-link",name:"link",placeholder:"Image link",required:!0}),r.a.createElement("span",{id:"link-input-error",className:"form__input-error"})," "),r.a.createElement(E,{name:"change-avatar",title:"Change profile picture",buttonText:"Save",isOpen:_,onClose:I},r.a.createElement("input",{id:"avatar-input",type:"url",className:"form__input js-input-link",name:"avatar",placeholder:"Url",required:!0}),r.a.createElement("span",{id:"avatar-input-error",className:"form__input-error"})),r.a.createElement(E,{name:"del-card",title:"Are you sure?",buttonText:"Yes",isOpen:k,onClose:I}),r.a.createElement(h,{isOpen:y,onClose:I,card:A}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},4:function(e,t,a){e.exports=a.p+"static/media/logo.8f7611ae.svg"},7:function(e,t,a){e.exports=a(13)}},[[7,1,2]]]);
//# sourceMappingURL=main.c2b9dda4.chunk.js.map